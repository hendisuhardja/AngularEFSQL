<h2>Customers</h2>

<p><a [routerLink]="['/customer/new']"  class="btn btn-primary">New</a></p>

<div class="card card-body bg-light">
  <div class="form-group">
    <label for="make">First Name</label>
    <input type="text" id="firstName" class="form-control" [(ngModel)]="query.firstName" (change)="onFilterChange()" />
  </div>
  <button class="btn btn-primary col-md-3" (click)="resetFilter()">Reset</button>
</div>
<table class="table">
  <thead>
    <tr>
      <th *ngFor="let c of this.columns" >
        <div *ngIf="c.isSortable" (click)="sortBy(c.key)">
        {{ c.title }}
        <i *ngIf="query.sortBy === c.key" 
          class="fa"
          [class.fa-sort-asc]="query.isSortAscending"
          [class.fa-sort-desc]="!query.isSortAscending"></i>
        </div>
        <div *ngIf="!c.isSortable">
            {{ c.title }}
        </div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of queryResult.items">
      <td>{{ c.customerId }}</td>
      <td>{{ c.firstName }}</td>
      <td>{{ c.lastName }}</td>
      <td>{{ c.address}}</td>
      <td>
        <a [routerLink]="['/customer/', c.customerId]">Edit</a>
      </td>
    </tr>
  </tbody>
</table>